<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>

    <title>Books</title>
    <h:outputStylesheet library="css" name="books.css"/>

</h:head>

<h:body>
    <div class="container">

        <!-- Welcome message -->
        <h:outputText value="Welcome, #{loginBean.formattedUsername}" styleClass="welcome-msg"/>

        <!-- Add Book Form -->
        <h:form>
            <h3>Add Book</h3>

            <h:outputLabel for="title" value="Title:"/>
            <h:inputText id="title" value="#{bookBean.book.title}" required="true"/>

            <h:outputLabel for="author" value="Author:"/>
            <h:inputText id="author" value="#{bookBean.book.author}" required="true"/>

            <h:outputLabel for="year" value="Year:"/>
            <h:inputText id="year" value="#{bookBean.book.year}" required="true"/>

            <h:commandButton value="Add Book" action="#{bookBean.addBook}" styleClass="btn"/>
        </h:form>

        <!-- Delete Book Form -->
        <h:form>
            <h3>Delete Book</h3>

            <h:outputLabel for="bookId" value="Book ID to delete:"/>
            <h:inputText id="bookId" value="#{bookBean.bookId}" required="true"/>

            <h:commandButton value="Delete Book" action="#{bookBean.deleteBook}" styleClass="btn"/>

        </h:form>

        <!-- Books Table -->
        <h3>Books List</h3>
        <h:dataTable value="#{bookBean.books}" var="b" border="0" styleClass="table">
            <h:column>
                <f:facet name="header">ID</f:facet>
                #{b.id}
            </h:column>
            <h:column>
                <f:facet name="header">Title</f:facet>
                #{b.title}
            </h:column>
            <h:column>
                <f:facet name="header">Author</f:facet>
                #{b.author}
            </h:column>
            <h:column>
                <f:facet name="header">Year</f:facet>
                #{b.year}
            </h:column>
        </h:dataTable>

        <!-- Logout Button -->
        <h:form>
            <h:commandButton value="Logout" action="#{loginBean.logout}" styleClass="btn-logout" />
        </h:form>

    </div>
</h:body>
</html>